async function loadJSON(path){ const res = await fetch(path); return await res.json(); } function mountServicios(){ const el = document.querySelector('#cards-servicios'); if(!el) return; loadJSON('data/servicios.json').then(items=>{ el.innerHTML = items.map(i=>` <article class="card"> <h3>${i.emoji} ${i.titulo}</h3> <p>${i.descripcion}</p> <p><span class="badge">Modalidad: ${i.modalidad}</span> <span class="badge">Duración: ${i.duracion}</span></p> <p><span class="badge">Desde: ${i.desde}</span></p> </article>`).join(''); }); } function mountTestimonios(){ const el = document.querySelector('#cards-testimonios'); if(!el) return; loadJSON('data/testimonios.json').then(items=>{ el.innerHTML = items.map(t=>` <article class="card"> <h3>“${t.titulo}”</h3> <p>${t.texto}</p> <p class="small">— ${t.autor}, ${t.cargo}</p> </article>`).join(''); }); } function mountPortafolio(){ const el = document.querySelector('#cards-proyectos'); if(!el) return; loadJSON('../data/proyectos.json').then(items=>{ el.innerHTML = items.map(p=>` <article class="card"> <h3>${p.emoji} ${p.nombre}</h3> <p>${p.resumen}</p> <p class="small">${p.etiquetas.join(' · ')}</p> ${p.url ? `<p><a class="btn btn-ghost" href="${p.url}" target="_blank" rel="noopener">Ver proyecto</a></p>`:''} </article>`).join(''); }); } document.addEventListener('DOMContentLoaded',()=>{ mountServicios(); mountTestimonios(); mountPortafolio(); }); function track(eventName, params={}){ if(typeof gtag === 'function'){ gtag('event', eventName, params); } } document.addEventListener('click', (e)=>{ const a = e.target.closest('a'); if(!a) return; if(a.href.includes('wa.me')) track('click_whatsapp', {link:a.href}); if(a.href.startsWith('mailto:')) track('click_mailto', {link:a.href}); if(a.href.includes('calendly.com')) track('click_calendly', {link:a.href}); }); (function(){ try{ if(localStorage.getItem('cookies_ok')) return; var bar = document.createElement('div'); bar.setAttribute('role','dialog'); bar.setAttribute('aria-live','polite'); bar.style.position='fixed'; bar.style.inset='auto 0 0 0'; bar.style.background='#0f1a34'; bar.style.borderTop='1px solid #1f2740'; bar.style.padding='12px'; bar.style.display='flex'; bar.style.gap='12px'; bar.style.alignItems='center'; bar.style.justifyContent='space-between'; bar.style.zIndex='9999'; bar.innerHTML = '<span>Usamos cookies técnicas y de medición anónima. <a href="pages/cookies.html">Más info</a></span>' + '<span><button id="cb-aceptar" class="btn">Aceptar</button> <button id="cb-rechazar" class="btn btn-ghost">Rechazar</button></span>'; document.body.appendChild(bar); document.getElementById('cb-aceptar').onclick=function(){localStorage.setItem('cookies_ok','1');bar.remove();}; document.getElementById('cb-rechazar').onclick=function(){localStorage.removeItem('cookies_ok');bar.remove();}; }catch(e){} })(); (function(){ document.addEventListener('contextmenu', e=>e.preventDefault()); document.addEventListener('selectstart', e=>e.preventDefault()); document.addEventListener('dragstart', e=>e.preventDefault()); document.addEventListener('keydown', function(e){ const k = e.key.toLowerCase(); if(e.key === 'F12') { e.preventDefault(); return false; } if(e.ctrlKey && e.shiftKey && (k==='i' || k==='c' || k==='j')) { e.preventDefault(); return false; } if(e.ctrlKey && (k==='u' || k==='s' || k==='p')) { e.preventDefault(); return false; } }); })();
